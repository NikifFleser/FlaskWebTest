{% extends 'base.html' %}

{% block title %}
Place Your Bets
{% endblock %}

{% block content %}

<div class="sidenav">
    <form method="GET" action="{{ url_for('bet', matchday=matchday - 1) }}">
        <button type="submit" {% if matchday <= 1 %}disabled{% endif %}><i class="fas fa-arrow-left"></i></button>
    </form>
    <span>Matchday {{ matchday }}</span>
    <form method="GET" action="{{ url_for('bet', matchday=matchday + 1) }}">
        <button type="submit" {% if matchday >= 7 %}disabled{% endif %}><i class="fas fa-arrow-right"></i></button>
    </form>
</div>

<div>
    {% for match in closed_matches %}
    <div class="closed-match-container">
        <span class="team1-name">{{ match[1] }}</span>
        <span class="score">{{ match[3] }}</span>
        <span class="vs">:</span>
        <span class="score">{{ match[4] }}</span>
        <span class="team2-name">{{ match[2] }}</span>
    </div>
    {% endfor %}
</div>

<form method="POST">
    {% for match in open_matches %}
        <div class="match-container">
            <span class="team1-name">{{ match[1] }}</span>
            <input type="number" value="{{match[3]}}" name="match_{{ match[0] }}_team1_goals" min="0" max="9" class="goal-input" data-match-id="{{ match[0] }}" data-team="team1">
            <span class="vs">:</span>
            <input type="number" value="{{match[4]}}" name="match_{{ match[0] }}_team2_goals" min="0" max="9" class="goal-input" data-match-id="{{ match[0] }}" data-team="team2">
            <span class="team2-name">{{ match[2] }}</span>
        </div>
        <br>
    {% endfor %}
</form>

<script>const csrfToken = "{{ csrf_token() }}";</script>
<script src="{{ url_for('static', filename='js/bet.js') }}"></script>
{% endblock %}


